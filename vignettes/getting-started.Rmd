---
title: "Getting Started with AMPH Forecast Suite"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting Started with AMPH Forecast Suite}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

## Introduction

The AMPH Forecast Suite provides a comprehensive toolkit for building infectious disease forecasting pipelines and hubs. This vignette demonstrates the basic workflow for using the package.

## Installation

First, install the AMPH Forecast Suite from CRAN or GitHub:

```{r eval=FALSE}
# Install remotes if you haven't already
install.packages("remotes")

# Install AMPH Forecast Suite
remotes::install_github("ACCIDDA/AMPH_Forecast_Suite")
```


First, install the required forecasting packages:

```{r eval=FALSE}
library(AMPHForecastSuite)

# Install all forecasting packages
install_forecast_packages()
```

You can also selectively install specific categories:

```{r eval=FALSE}
# Install only hubverse and forecasting packages
install_forecast_packages(
  install_hubverse = TRUE,
  install_forecasting = TRUE,
  install_epi = FALSE,
  install_data = FALSE
)
```

## Setting Up Directory Structure
Set up a directory structure for your forecasting project:
```{r eval=FALSE}
# Create project directory and subdirectories
# this sets the working directory to the new project directory
setup_file_structure(project_dir = "My_Forecast_Project")

```



## Building a Complete Pipeline

Here's an example of a complete forecasting pipeline:

```{r eval=FALSE}
# 1. Load data in hub format
hub_data <- load_hub_data()  # Your data loading function

# 2. Generate forecasts with multiple methods
# Method 1: Fable
ts_data <- convert_hub_to_tsibble(hub_data)
fable_model <- ts_data %>% model(ARIMA(value))
fable_fc <- fable_model %>% forecast(h = 4)
fable_hub_fc <- convert_fable_to_hub(fable_fc, location = "US")

# Method 2: EpiEstim for R estimates
epiestim_data <- convert_hub_to_epiestim(hub_data, location_filter = "US")
r_estimates <- estimate_R(epiestim_data, method = "parametric_si",
                          config = make_config(list(mean_si = 7, std_si = 4.5)))
r_hub <- convert_epiestim_to_hub(r_estimates, location = "US")

# 3. Combine forecasts
all_forecasts <- rbind(fable_hub_fc, r_hub)

# 4. Submit to hub
# submit_to_hub(all_forecasts)  # Your submission function
```

## Summary

The AMPH Forecast Suite simplifies the process of:

1. Installing necessary packages
2. Setting up appropriate directory structure
3. Pulling and manipulating data to use with forecasting models
4. Ensembling, visualizing, and evaluating forecasts

For more information, see the package documentation and function help pages.
